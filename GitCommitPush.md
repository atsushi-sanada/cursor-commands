# Git コミット・プッシュ実行プロンプト

## 基本方針

- 変更内容を適切にコミットしてプッシュする
- **この指示は今回の依頼内でのみ有効**とし、以降のエージェント／別タスクへは引き継がない
- **ユーザーから「コミットして」「プッシュして」等の明示指示がある場合のみ実行**する（自動実行しない）
- **現在のチャットで行った修正のみをコミット対象とする**（全ての変更をコミットする場合はユーザーが明示的に指示する）
- コミットメッセージは短く簡潔に、タイトルと本文を分けて箇条書きで記述する

## 実行手順

1. **変更確認**: `git status --porcelain`で変更状況を確認（ページネーション回避）
2. **ステージング**:
   - ユーザー指定がある場合: `git add <指定ファイル・ディレクトリ>`
   - 指定が無い場合: **現在のチャットで編集・作成したファイルのみ**を`git add <ファイルパス>`で追加
   - ユーザーが「全て」と明示した場合のみ: `git add .`
3. **コミットメッセージ作成**:
   - `GIT_PAGER=cat git diff --cached`で変更内容を確認（ページネーション回避）
   - タイトルと本文を分けて、簡潔に箇条書きでメッセージを作成
4. **コミット**: `git commit -m "<メッセージ>"`で実行
5. **プッシュ**: `git push origin $(git rev-parse --abbrev-ref HEAD)`で実行

## 注意事項

- `git diff`はページネーションが起動するため、`GIT_PAGER=cat`を使用するか`--stat`で統計情報のみ確認
- プッシュ前にリモートとの差分がある場合は`git pull`を実行
